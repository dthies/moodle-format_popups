define ("format_popups/folder",["exports","core/notification","core/templates"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=d(b);c=d(c);function d(a){return a&&a.__esModule?a:{default:a}}var f;a.init=function init(a){f=a;document.querySelector("#format_popups_activity_content").removeEventListener("click",g);document.querySelector("#format_popups_activity_content").addEventListener("click",g)};var g=function(a){var d=a.target.closest("div.foldertree a");if(d){var e=new URL(d.getAttribute("href")),g=e.pathname.split("/").slice(-5);if(!e.searchParams.get("forcedownload")&&g[0]==f){var h=-1!==g[4].search(".")&&["gif","jpg","jpeg","png","svg"].includes(g[4].split(".").pop());a.preventDefault();a.stopPropagation();c.default.render("format_popups/embedfile",{heading:decodeURI(g[4]),image:h,url:e.toString(),params:[{name:"forcedownload",value:1}]}).then(c.default.replaceNodeContents.bind(c.default,"#format_popups_activity_content")).fail(b.default.exception)}}}});
//# sourceMappingURL=folder.min.js.map
